<div id='actions'>
  <ul>
    <li>
      <%= render :partial => "/shared/admin/search", :locals => {:url => admin_themes_url} %>
    </li>
    <li>
      <%= link_to "Upload New Theme", new_admin_theme_url, :class => "add_icon" %>
    </li>
  </ul>
</div>
<div id='records'>
  <% if searching? %>
    <h2>Search Results for "<%= params[:search] %>"</h2>
    <% if @themes.size > 0 %>
        <%= render :partial => "resource", :collection => @themes %>
    <% else %>
      <p>Sorry, no results found.</p>
    <% end %>
  <% else %>
    <% if @themes.size > 0 -%>
      <%= will_paginate @themes, :previous_label => '&laquo;', :next_label => '&raquo;' %>
      <% if RefinerySetting.find_or_set(:group_themes_by_date_uploaded, true) %>
        <% @grouped_themes.each do |container| %>
          <h3><%= (resource_group = container.last).first.created_at.strftime("%A, %d %B %Y") %></h3>
          <ul>
            <%= render :partial => "theme", :collection => theme_group %>
          </ul>
        <% end %>
      <% else %>
        <ul>
          <%= render :partial => "theme", :collection => @themes %>
        </ul>
      <% end %>
      <%= will_paginate @themes, :previous_label => '&laquo;', :next_label => '&raquo;' %>
    <% else -%>
      <p>
        <strong>There are no themes yet. Click "Upload New Theme" to add your first theme.</strong>
      </p>
    <% end -%>
  <% end %>
</div>
